(()=>{"use strict";var e,t,n={d:(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};n.d({},{U:()=>g,r:()=>h}),function(e){e.TODO="Todo",e.IN_PROGRESS="In_Progress",e.DONE="Done"}(e||(e={})),function(e){e.EPIC="Epic",e.STORY="Story",e.TASK="Task"}(t||(t={}));var r=function(){return Date.now()+(1e5*Math.random()).toFixed()},s=function(e){return"{}"===JSON.stringify(e)},i=function(t){return t===e.DONE},o=function(e){var t=!0;return e.forEach((function(e){var n=u(e);!n||"string"==typeof n||i(n.state)||(t=!1)})),t},a=function(t,n){if(!t||""===t||!n)return"400: AddIssue Operation Failed!";var s={id:r(),title:t,state:e.TODO,type:n,parent:{},children:[],assignedTo:null,createdAt:Date.now(),updatedAt:Date.now()};return g.push(s),s.id},u=function(e){return g.find((function(t){return t.id===e}))||"400: GetSpecificIssue Operation Failed, Issue not found!"},l=function(n,r){if(!n||!r)return"400: SetState Operation Failed!";var s=u(n);return s&&"string"!=typeof s?r===e.DONE&&s.type!==t.TASK&&s.children&&s.children.length>0?function(e,n){var r=!0;if(n===t.EPIC)e.forEach((function(e){var t=u(e);if(t&&"string"!=typeof t){if(!(r=i(t.state)))return;if(t&&t.children.length>0&&!(r=o(t.children)))return}}));else if(n===t.STORY&&!(r=o(e)))return r;return r}(s.children,s.type)?(s.state=r,"400: SetState Operation Successful!"):"400: SetState Operaton Failed!":(s.state=r,s.updatedAt=Date.now(),"200: SetState Operation Successful!"):"400: SetState Operation Failed!"},c=function(e,n){if(!e||!n)return"400: SetParent Operation Failed!";var r,s,i=u(e),o=u(n);return i&&o&&"string"!=typeof i&&"string"!=typeof o&&(r=i.type,s=o.type,r===t.TASK&&(s===t.STORY||s===t.EPIC)||r===t.STORY&&s===t.EPIC)?(i.parent=n,o.children.push(e),"200: SetParent Operation Successful!"):"400: SetParent Operation Failed!"},d=function(e,t){if(!e||!t)return"400: AssignIssue Operation Failed!";var n=u(t);return n&&"string"!=typeof n?n&&null===e?(n.assignedTo=null,"200: AssignIssue Operation Successful!"):(n.assignedTo=e,"200: AssignIssue Operation Successful!"):"400: AssignIssue Operation Failed!"},f=function(e){var t=e.state,n=void 0===t?null:t,r=e.userId,s=void 0===r?null:r,i=e.issueTypes,o=void 0===i?null:i,a=e.startDate,u=void 0===a?null:a,l=e.endDate,c=void 0===l?null:l,d=g;return null===n&&null===s&&null===o&&null===u&&null===c&&(d=g),n&&(d=d.filter((function(e){return e.state===n}))),s&&(d=d.filter((function(e){return e.assignedTo===s}))),o&&o.length>0&&(d=d.filter((function(e){return o.includes(e.type)}))),u&&c&&Number(u)<=Number(c)&&(d=d.filter((function(e){return Number(e.createdAt)>=Number(u)&&Number(e.createdAt)<=Number(c)}))),u&&!c&&(d=d.filter((function(e){return Number(e.createdAt)>=Number(u)}))),!u&&c&&(d=d.filter((function(e){return Number(e.createdAt)<Number(c)}))),d},p=function(e){if(!e||""===e)return"400: AddUser Operation Failed!";var t={id:r(),name:e,createdAt:Date.now()};return h.push(t),t.id},g=[],h=[];!function(){var n=a("Bug-1",t.TASK),r=a("Performance-1",t.STORY),i=a("Sprint-1",t.EPIC);console.log("Issue One created: ",u(n)),console.log("Issue Two created: ",u(r)),console.log("Issue Three created: ",u(i));var o=c(n,r);console.log("Issue One (Task) has a Issue Two as parent (Story): ",o);var O=c(r,i);console.log("Issue Two (Story) has a Issue Three as parent (EPIC): ",O);var v=l(n,e.DONE);console.log("Issue One state is changed to done: ",v);var S=l(r,e.DONE);console.log("Issue Two state is changed to done: ",S);var I=l(i,e.DONE);console.log("Issue Three state is changed to done: ",I);var T=p("Abdullah"),y=p("Aksel");console.log("Abdullah and Aksel users created with ids: ",T,y);var A=d(T,n);console.log("Issue 1 assigned to User 1 - Abdullah:",A);var m=d(y,r);console.log("Issue 2 assigned to User 2 - Aksel:",m);var D=f({issueTypes:[t.TASK,t.EPIC],state:null,userId:null,startDate:null,endDate:null});console.log("Getting IssuesList using Issue State Filtering:: ",D);var E=function(e){if(null===e)return"RemoveUser Operation Failed!";g.forEach((function(t){t.assignedTo===e&&(t.assignedTo=null)}));var t=function(e){if(!e)throw new Error("GetUser Operation Failed!");return h.find((function(t){return t.id===e}))||"GetUser Operation Failed!"}(e);if(!t||"string"==typeof t)return"RemoveUser Operation Failed!";var n=h.indexOf(t);return n>-1&&h.splice(n,1),"RemoveUser Operation Successfull!"}(T);console.log("User 1 - Abdullah removed:",E);var F=g[0].createdAt,N=f({startDate:String(F),endDate:String(Date.now()),state:null,issueTypes:null,userId:null});console.log("Getting IssuesList using Time Filtering:: ",N);var b=function(e){if(!e)return"400: RemoveIssue Operation Failed!";var t=u(e);if(!t)return"400: RemoveIssue Operation Failed!";if("string"!=typeof t){if(!s(t.parent)&&t.children.length>0){var n=u(t.parent);"string"!=typeof n&&(n.children=n.children.filter((function(t){return t!==e})),t.children.forEach((function(e){var r=u(e);"string"!=typeof r&&(r.parent=t.parent,n.children.push(e))})))}else if(s(t.parent)&&t.children.length>0)t.children.forEach((function(e){var t=u(e);"string"!=typeof t&&(t.parent={})}));else if(!s(t.parent)&&0===t.children.length){var r=u(t.parent);"string"!=typeof r&&r.children&&r.children.length>0&&(r.children=r.children.filter((function(t){return t!==e})))}var i=g.indexOf(t);i>-1&&g.splice(i,1)}return"200: RemoveIssue Operation Successful!"}(n);console.log("Issue One removed: ",b),console.log("Current Issues in the system: ",g),console.log("Current Users in the system: ",h)}()})();